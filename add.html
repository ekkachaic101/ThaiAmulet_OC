
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏£‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Sarabun', sans-serif;
      background: url('https://upload.wikimedia.org/wikipedia/commons/4/4e/Kranok_pattern_gold.png') repeat;
      background-size: 300px;
      color: #333;
    }
    .header {
      text-align: right;
      padding: 10px;
      background-color: rgba(255, 255, 255, 0.85);
    }
    .header span {
      font-weight: bold;
    }
    .header button {
      margin-left: 10px;
      background-color: #B22222;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .header button:hover {
      background-color: #8B0000;
    }
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: calc(100vh - 60px);
      background-color: rgba(255, 255, 255, 0.85);
      margin: 20px auto;
      padding: 30px;
      border-radius: 15px;
      max-width: 600px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
    }
    h2 {
      color: #B8860B;
      margin-bottom: 20px;
    }
    form {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    input, textarea, select {
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
    }
    button.submit {
      background-color: #DAA520;
      color: white;
      border: none;
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
    }
    button.submit:hover {
      background-color: #b07d00;
    }
  </style>
  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm'
    const supabase = createClient(
      'https://srzqmhgdaedfoyakqmpg.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNyenFtaGdkYWVkZm95YWtxbXBnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3MzU0MTUsImV4cCI6MjA3MjMxMTQxNX0.rs0m4ibkOPvWADs7iLdgDxCLAnwS_Ko6PtHtvyugTsQ'
    )

    document.addEventListener("DOMContentLoaded", async () => {
      const { data: { user }, error } = await supabase.auth.getUser()
      if (error || !user) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô")
        window.location.href = "login.html"
        return
      }

      const name = user.user_metadata?.preferred_username || user.user_metadata?.email || "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö‡∏ä‡∏∑‡πà‡∏≠"
      document.getElementById("username").textContent = name

      document.getElementById("logoutBtn").addEventListener("click", async () => {
        const { error } = await supabase.auth.signOut()
        if (!error) {
          window.location.href = "login.html"
        } else {
          alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö: " + error.message)
        }
      })
    })
  </script>
</head>
<body>
  <div class="header">
    üë§ <span id="username">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span>
    <button id="logoutBtn">üö™ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
  </div>

  <div class="container">
    <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏£‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</h2>
    <form>
      <input type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏£‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á" required>
      <textarea placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î" rows="4"></textarea>
      <select>
        <option>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
        <option>‡∏û‡∏£‡∏∞‡∏ö‡∏π‡∏ä‡∏≤</option>
        <option>‡∏û‡∏£‡∏∞‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</option>
        <option>‡∏û‡∏£‡∏∞‡∏ú‡∏á</option>
      </select>
      <input type="file">
      <button type="submit" class="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
    </form>
  </div>
</body>
</html>
